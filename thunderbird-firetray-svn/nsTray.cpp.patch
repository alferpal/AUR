--- components/nsTray.cpp	2012-02-03 15:55:45.899828457 +0100
+++ components/nsTray1.cpp	2012-02-03 16:09:33.320205949 +0100
@@ -52,7 +52,7 @@
 }
 
 void nsTray::activate(GtkStatusIcon* status_icon, gpointer user_data) {
-    PRBool ret = TRUE;
+    bool ret = TRUE;
     nsTray *data = static_cast<nsTray*>(user_data);
 
     data->tray_callback->Call(&ret);
@@ -75,7 +75,7 @@
 
     if(!event || !user_data) return false;
 
-    PRBool ret = TRUE;
+    bool ret = TRUE;
     nsTray *data = static_cast<nsTray*>(user_data);
 
     PRUint32 dir=0;
@@ -129,7 +129,7 @@
 
 void nsTray::item_event(GtkWidget *widget, gpointer user_data) {
     DEBUG_CALL("item_event")
-    PRBool ret = TRUE;
+    bool ret = TRUE;
     nsTray *data = static_cast<nsTray*>(user_data);
 
     if(data->item_callback_list[(PRUint64)widget]) {
@@ -785,7 +785,7 @@
 
 
   /* boolean setDefaultIcon (in string filename); */
-NS_IMETHODIMP nsTray::SetDefaultIcon(const char *filename, PRBool *_retval)
+NS_IMETHODIMP nsTray::SetDefaultIcon(const char *filename, bool *_retval)
 {
     DEBUG_CALL("setDefaultIcon")
 
@@ -796,7 +796,7 @@
 }
 
   /* boolean setSpecialIcon (in string filename); */
-NS_IMETHODIMP nsTray::SetSpecialIcon(const char *filename, PRBool *_retval) 
+NS_IMETHODIMP nsTray::SetSpecialIcon(const char *filename, bool *_retval) 
 {
     DEBUG_CALL("setSpecialIcon")
 
@@ -997,7 +997,7 @@
 */
 
 /* void setCloseBlocking (in boolean block); */
-NS_IMETHODIMP nsTray::SetCloseBlocking(PRBool val)  
+NS_IMETHODIMP nsTray::SetCloseBlocking(bool val)  
 {
     DEBUG_CALL("setCloseBlocking")
     block_close=val;
@@ -1005,7 +1005,7 @@
 }
 
 /* void getCloseBlocking (out boolean block); */
-NS_IMETHODIMP nsTray::GetCloseBlocking(PRBool *val) 
+NS_IMETHODIMP nsTray::GetCloseBlocking(bool *val) 
 {
     DEBUG_CALL("getCloseBlocking")
 
@@ -1014,7 +1014,7 @@
 }
 
 /* void setMinimizeBlocking (in boolean val); */
-NS_IMETHODIMP nsTray::SetMinimizeBlocking(PRBool val)
+NS_IMETHODIMP nsTray::SetMinimizeBlocking(bool val)
 {
     DEBUG_CALL("SetMinimizeBlocking")
     block_minimize=val;
@@ -1022,7 +1022,7 @@
 }
 
 /* void getMinimizeBlocking (out boolean val); */
-NS_IMETHODIMP nsTray::GetMinimizeBlocking(PRBool *val)
+NS_IMETHODIMP nsTray::GetMinimizeBlocking(bool *val)
 {
     DEBUG_CALL("GetMinimizeBlocking")
     if(val)*val=this->block_minimize;
@@ -1176,7 +1176,7 @@
 
    XKeyEvent *kev=(XKeyEvent *)e;
    nsTray *tray = (nsTray *)data;   
-   PRBool ret = TRUE;
+   bool ret = TRUE;
 
    DEBUGSTR("KEYPRESS EVENT: KEY="<<kev->keycode) 
 
@@ -1257,7 +1257,7 @@
 {
    DEBUG_CALL("minimizeEvent") 
 
-   PRBool ret = TRUE;    
+   bool ret = TRUE;    
    if(block_minimize) 
     { 
        FDEBUGSTR("MINIMIZING TO TRAY")
@@ -1272,7 +1272,7 @@
 {    
    DEBUG_CALL("closeEvent")       
    
-   PRBool ret = TRUE;
+   bool ret = TRUE;
    if(block_close) 
     { 
        FDEBUGSTR("CLOSE BLOCKING")
@@ -1326,7 +1326,7 @@
 
 
 /* boolean addHandledKeyCode (in PRUint64 key_code); */
-NS_IMETHODIMP nsTray::AddHandledKeyCode(PRUint64 key_code, PRBool *_retval) {
+NS_IMETHODIMP nsTray::AddHandledKeyCode(PRUint64 key_code, bool *_retval) {
   #ifdef _KEYSYMS_
 
       CAPTURE_ERRORS()
@@ -1354,7 +1354,7 @@
 }
 
 /* boolean addHandledKey (in string key_string); */
-NS_IMETHODIMP nsTray::AddHandledKey(const char *key_string, PRBool *_retval) {
+NS_IMETHODIMP nsTray::AddHandledKey(const char *key_string, bool *_retval) {
     DEBUG_CALL("addHandledKey")
       
 #ifdef _KEYSYMS_
@@ -1373,7 +1373,7 @@
      
       if(!key) RELEASE_CAPTURE_RETURN("NOKEY_CODE",NS_OK)
       
-      PRBool ret=true; 
+      bool ret=true; 
 
       RELEASE_CAPTURE("Couldn't get grab on key "<< key_string)
 
@@ -1412,7 +1412,7 @@
 
 
 /*     boolean getFocusState(in nsIBaseWindow aBaseWindow); */
-NS_IMETHODIMP nsTray::GetFocusState(nsIBaseWindow *aBaseWindow, PRBool *_retval) 
+NS_IMETHODIMP nsTray::GetFocusState(nsIBaseWindow *aBaseWindow, bool *_retval) 
 {
     DEBUG_CALL("getFocusState")
 
